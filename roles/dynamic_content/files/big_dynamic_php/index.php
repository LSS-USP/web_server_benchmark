<?php
/*
  Copyright (C) 2016 Rodrigo Siqueira and Charles Oliveira
  This program is free software; you can redistribute it and/or modify
  it under the terms of the GNU General Public License version 3 as
  published by the Free Software Foundation.

  This program is designed to consume CPU and send just a required amount of
  data.
*/

 // We just consider bytes here.
 define('MAX_LEN', 3 * 1024 * 1024); /* Max length to process */
 define('MAX_TO_SEND', 120 * 1024); /* Max length to send data*/
 define('HASH_LEN', 32); /* Size generated by each hash */

 /* # of hashes */
 $num_hashes = MAX_LEN / HASH_LEN;
 $max_to_send = MAX_TO_SEND / HASH_LEN;
 $data = "";

 for($i = 0; $i < $num_hashes; $i++)
 {
   $temp = md5(mt_rand());
   if ($i < $max_to_send)
   {
    $data .= $temp;
   }
 }
 echo $data;
?>
